(this["webpackJsonpopen-bar-tap"]=this["webpackJsonpopen-bar-tap"]||[]).push([[0],{22:function(e,t,n){},23:function(e,t,n){},29:function(e,t,n){"use strict";n.r(t);var c,r,i,d,a,j,s=n(1),o=n.n(s),l=n(14),b=n.n(l),O=(n(22),n(2)),u=n(7),x=n(4),h=n(3),m=(n(23),[{name:"Lager",price:45},{name:"IPA",price:52},{name:"Weissbier",price:59}]),p=h.a.table(c||(c=Object(O.a)(["\n  border-collapse: collapse;\n  width: 100%;\n"]))),f=h.a.tr(r||(r=Object(O.a)([""]))),v=h.a.th(i||(i=Object(O.a)(["\n  border: 1px solid #ddd;\n  padding: 8px;\n  text-align: left;\n  color: white;\n"]))),g=h.a.td(d||(d=Object(O.a)(["\n  border: 1px solid #ddd;\n  padding: 8px;\n\n  &.item, &.orderedAt, &.orderAmount, &.qty {\n      width:50%;\n  }\n"]))),R=n(0);var y,S,E,D,N=Object(h.a)(v)(a||(a=Object(O.a)(["\n    width:50%;\n"]))),A=Object(h.a)(g)(j||(j=Object(O.a)(["\n  width:50%;\n"]))),I=function(){return Object(R.jsxs)(p,{children:[Object(R.jsxs)(f,{children:[Object(R.jsx)(N,{children:"Beer"}),Object(R.jsx)(N,{children:"Price"})]}),m.map((function(e,t){return Object(R.jsxs)(f,{children:[Object(R.jsx)(A,{children:e.name}),Object(R.jsxs)(A,{children:["DKK ",e.price.toFixed(2)]})]},t)}))]})},k=Object(s.createContext)({}),C=n(5),w=h.a.button(y||(y=Object(O.a)(["\nbackground: #ddd;\nborder: 1px solid #0d1117;\ncursor: pointer;\npadding: .25em .5em;\nmargin-right: 1em;\nmargin-bottom: .5em;\ncolor: #0d1117;\n\n&:disabled {\n    opacity: 0.5;\n    cursor:not-allowed;\n}\n"]))),q=h.a.input(S||(S=Object(O.a)(["\npadding: 0.25em 0.5em;\nborder: 1px solid #ccc;\nbackground-color:#242f40;\ncolor: #ccc;\n"])));var B,F=Object(h.a)(q)(E||(E=Object(O.a)(["\n  width: 100px;\n"]))),T=h.a.span(D||(D=Object(O.a)(["\n  padding-right: 10px;\n"]))),_=function(e){var t=e.onGoBack,n=e.order,c=Object(s.useState)(null),r=Object(x.a)(c,2),i=r[0],d=r[1];return Object(R.jsxs)("div",{children:[Object(R.jsxs)(p,{children:[Object(R.jsxs)(f,{children:[Object(R.jsx)(v,{children:"#"}),Object(R.jsx)(v,{children:"Beer"}),Object(R.jsx)(v,{children:"Price"}),Object(R.jsx)(v,{children:"Qty"})]}),n.items.map((function(e,t){return Object(R.jsxs)(f,{children:[Object(R.jsx)(g,{children:t+1}),Object(R.jsx)(g,{children:e.name}),Object(R.jsxs)(g,{children:["DKK ",e.price.toFixed(2)]}),Object(R.jsx)(g,{children:e.qty})]})}))]}),Object(R.jsx)("br",{}),Object(R.jsxs)("div",{children:["Total Amount: DKK ",n.totalAmount.toFixed(2)]}),Object(R.jsx)("br",{}),n.totalAmount>0&&Object(R.jsxs)("div",{children:[Object(R.jsx)(T,{children:"Would you like to divide bill?"}),Object(R.jsx)(F,{placeholder:"# of people",value:isNaN(i)?"":i,onChange:function(e){d(e.target.value)}}),!isNaN(i)&&i>1?"DKK".concat((n.totalAmount/parseInt(i)).toFixed(2),"/person"):""]}),Object(R.jsx)("br",{}),Object(R.jsx)("div",{children:Object(R.jsx)(w,{onClick:function(){t()},children:"Go Back to Order"})})]})},L="NEW_ORDER",P="REQUEST_BILL";var K,W,G=h.a.input(B||(B=Object(O.a)(["\n  text-align: center;\n  width: 35px;\n"]))),J=function(e){var t=e.onAddOrder,n=e.totalOrders,c=Object(s.useState)([null]),r=Object(x.a)(c,2),i=r[0],d=r[1],a=Object(s.useState)([null]),j=Object(x.a)(a,2),o=j[0],l=j[1],b=function(e){return m.filter((function(t){return!o.find((function(e){return e&&e.name===t.name}))||t.name===e}))},O=function(){var e=new Date,t=o.filter((function(e){return e})),c=t.reduce((function(e,t){return t.qty*t.price+e}),0);return{orderId:n,orderedAt:e,items:t,totalAmount:c}};return i===P?Object(R.jsx)(_,{onGoBack:function(){d(L)},order:O()}):Object(R.jsxs)("div",{children:[Object(R.jsxs)(p,{children:[Object(R.jsxs)(f,{children:[Object(R.jsx)(v,{children:"#"}),Object(R.jsx)(v,{children:"Beer Type"}),Object(R.jsx)(v,{children:"Qty"})]}),o.map((function(e,t){return Object(R.jsxs)(f,{children:[Object(R.jsx)(g,{className:"serialNo",children:t+1}),Object(R.jsx)(g,{className:"item",children:Object(R.jsxs)("select",{onChange:function(e){return function(e,t){var n=o.slice(),c=m.find((function(e){return e.name===t}));n[e]=Object(C.a)(Object(C.a)({},c),{},{qty:n[e]?parseInt(n[e].qty):1}),l(n)}(t,e.target.value)},value:o[t]?o[t].name:"",children:[null===e&&Object(R.jsx)("option",{value:"",disabled:!0,children:"--Select Beer Type--"}),b(o[t]&&o[t].name).map((function(e,t){return Object(R.jsx)("option",{value:e.name,children:e.name},t)}))]})}),Object(R.jsx)(g,{className:"qty",children:Object(R.jsx)(G,{disabled:!o[t],onChange:function(e){return function(e,t){var n=o.slice(),c=n[e];c&&(n[e]=Object(C.a)(Object(C.a)({},c),{},{qty:parseInt(t)}),l(n))}(t,e.target.value)},value:o[t]&&!isNaN(o[t].qty)?o[t].qty:""})})]},t)}))]}),Object(R.jsx)("br",{}),Object(R.jsx)("div",{children:Object(R.jsx)(w,{onClick:function(){l([].concat(Object(u.a)(o),[null]))},disabled:o.includes(null)||0===b().length,children:"Add Item"})}),Object(R.jsx)("br",{}),Object(R.jsxs)("div",{children:[Object(R.jsx)(w,{onClick:function(){t(O())},disabled:o.every((function(e){return null===e})),children:"Submit Order"}),Object(R.jsx)(w,{onClick:function(){d(P)},children:"Request Bill"})]})]})},Q=h.a.div(K||(K=Object(O.a)(["\nborder: 1px solid #ddd;\ncursor: pointer;\npadding: 0.5em 0.75em;\ncolor: #ddd;\nmargin: 4px 0;\n"]))),$=n(9),M=n.n($);var U=h.a.input(W||(W=Object(O.a)(["\n  text-align: center;\n  width: 35px;\n"]))),V=function(e){var t=e.onGoBack,n=e.order,c=e.onAddItemToOrder,r=Object(s.useState)(null),i=Object(x.a)(r,2),d=i[0],a=i[1],j=Object(s.useState)(!1),l=Object(x.a)(j,2),b=l[0],O=l[1],u=function(e){return m.filter((function(t){return!n.items.find((function(e){return e&&e.name===t.name}))||t.name===e}))};return Object(R.jsxs)("div",{children:[Object(R.jsxs)(p,{children:[Object(R.jsxs)(f,{children:[Object(R.jsx)(v,{children:"#"}),Object(R.jsx)(v,{children:"Beer"}),Object(R.jsx)(v,{children:"Price"}),Object(R.jsx)(v,{children:"Qty"})]}),n.items.map((function(e,t){return Object(R.jsxs)(f,{children:[Object(R.jsx)(g,{children:t+1}),Object(R.jsx)(g,{children:e.name}),Object(R.jsxs)(g,{children:["$",e.price.toFixed(2)]}),Object(R.jsx)(g,{children:e.qty})]},t)}))]}),Object(R.jsx)("br",{}),Object(R.jsxs)("div",{children:["Order Date: ",M()(n.orderedAt)]}),Object(R.jsx)("br",{}),Object(R.jsxs)("div",{children:["Total Amount: $",n.totalAmount.toFixed(2)]}),Object(R.jsx)("br",{}),b&&Object(R.jsxs)(o.a.Fragment,{children:[Object(R.jsxs)(p,{children:[Object(R.jsxs)(f,{children:[Object(R.jsx)(v,{children:"Beer"}),Object(R.jsx)(v,{children:"Qty"})]}),Object(R.jsxs)(f,{children:[Object(R.jsx)(g,{className:"item",children:Object(R.jsxs)("select",{onChange:function(e){return function(e){var t=Object(C.a)({},d);t.name=e,t.qty||(t.qty=1),a(t)}(e.target.value)},value:d?d.name:"",children:[Object(R.jsx)("option",{value:"",disabled:!0,children:"--Select Beer Type--"}),u(d&&d.name).map((function(e,t){return Object(R.jsx)("option",{value:e.name,children:e.name},t)}))]})}),Object(R.jsx)(g,{className:"qty",children:Object(R.jsx)(U,{disabled:!d,onChange:function(e){return function(e){var t=Object(C.a)({},d);t.qty=parseInt(e),a(t)}(e.target.value)},value:d&&!isNaN(d.qty)?d.qty:""})})]})]}),Object(R.jsx)(w,{onClick:function(){var e=u().find((function(e){return e.name===d.name}));c(n.orderId,Object(C.a)(Object(C.a)({},e),{},{qty:d.qty})),a(null),O(!1)},children:"Save Item"})]}),!b&&u().length>0&&Object(R.jsx)("div",{children:Object(R.jsx)(w,{onClick:function(){O(!0)},children:"Add Item"})}),Object(R.jsx)("br",{}),Object(R.jsx)("div",{children:Object(R.jsx)(w,{onClick:function(){t()},children:"Go Back to Order"})})]})},Y={ORDERS:"ORDERS",NEW_ORDER:"NEW_ORDER",ORDER_DETAILS:"ORDER_DETAILS"};var z,H,X,Z,ee=function(){var e=Object(s.useState)(Y.ORDER),t=Object(x.a)(e,2),n=t[0],c=t[1],r=Object(s.useState)(null),i=Object(x.a)(r,2),d=i[0],a=i[1],j=function(e){return e.map((function(e,t){return Object(R.jsxs)(f,{children:[Object(R.jsx)(g,{className:"serialNo",children:t+1}),Object(R.jsx)(g,{className:"orderedAt",children:M()(e.orderedAt)}),Object(R.jsxs)(g,{className:"orderAmount",children:["$ ",parseFloat(e.totalAmount).toFixed(2)]}),Object(R.jsx)(g,{className:"viewOrder",children:Object(R.jsx)(w,{onClick:function(){a(e),c(Y.ORDER_DETAILS)},children:"View"})})]},t)}))};return Object(R.jsx)(k.Consumer,{children:function(e){var t=e.orders,r=e.addOrder,i=e.addItemToOrder;return n===Y.NEW_ORDER?Object(R.jsx)(o.a.Fragment,{children:Object(R.jsx)(J,{onAddOrder:function(e){r(e),c(Y.ORDERS)},totalOrders:t.length})}):n===Y.ORDER_DETAILS?Object(R.jsx)(V,{onGoBack:function(){return c(Y.ORDERS)},onAddItemToOrder:i,order:d}):Object(R.jsxs)(o.a.Fragment,{children:[t.length?Object(R.jsxs)(p,{children:[Object(R.jsxs)(f,{children:[Object(R.jsx)(v,{children:"#"}),Object(R.jsx)(v,{children:"Ordered At"}),Object(R.jsx)(v,{children:"Order Amount"}),Object(R.jsx)(v,{children:"Details"})]}),j(t)]}):Object(R.jsx)(Q,{children:"No orders, please add new order"}),Object(R.jsxs)("div",{children:[Object(R.jsx)("br",{}),Object(R.jsx)(w,{onClick:function(){return c(Y.NEW_ORDER)},children:"Add New Order"})]})]})}})},te="BEERS_PRICE_LIST",ne="ORDERS",ce=localStorage.getItem("ORDERS"),re=[];if(ce)try{re=JSON.parse(ce)}catch(le){}var ie=h.a.div(z||(z=Object(O.a)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  width: 40vw;\n  height: 75vh;\n  margin: auto;\n"]))),de=h.a.div(H||(H=Object(O.a)(["\n  display: flex;\n  margin-bottom: 14px;\n"]))),ae=h.a.div(X||(X=Object(O.a)(["\n  background-color: inherit;\n  border: none;\n  outline: none;\n  cursor: pointer;\n  padding: 0.5em 0.75em;\n  transition: 0.3s;\n  border: 1px solid #c9d1d9;\n  border-top-left-radius: 8px;\n  border-top-right-radius: 8px;\n  &:hover {\n    color: #999;\n  }\n  &.active {\n    color: #eee !important;\n    font-weight: bold;\n  }\n"]))),je=h.a.div(Z||(Z=Object(O.a)(["\n  border-top: none;\n"]))),se=function(){var e=Object(s.useState)(ne),t=Object(x.a)(e,2),n=t[0],c=t[1],r=Object(s.useState)(re),i=Object(x.a)(r,2),d=i[0],a=i[1];return Object(R.jsx)("div",{className:"App",children:Object(R.jsx)(k.Provider,{value:{orders:d,addOrder:function(e){var t=[].concat(Object(u.a)(d),[e]);a(t),localStorage.setItem("ORDERS",JSON.stringify(t))},addItemToOrder:function(e,t){var n=Object(u.a)(d),c=n.find((function(t){return t.orderId===e}));c&&(c.items.push(t),c.totalAmount+=t.qty*t.price,a(n),localStorage.setItem("ORDERS",JSON.stringify(n)))}},children:Object(R.jsxs)(ie,{children:[Object(R.jsx)(de,{children:Object(R.jsxs)(o.a.Fragment,{children:[Object(R.jsx)(ae,{className:n===te&&"active",onClick:function(){return c(te)},children:"Beers Price List"}),Object(R.jsx)(ae,{className:n===ne&&"active",onClick:function(){return c(ne)},children:"Orders"})]})}),Object(R.jsx)(je,{children:function(){switch(n){case te:return Object(R.jsx)(I,{});case ne:return Object(R.jsx)(ee,{});default:return null}}()})]})})})},oe=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,30)).then((function(t){var n=t.getCLS,c=t.getFID,r=t.getFCP,i=t.getLCP,d=t.getTTFB;n(e),c(e),r(e),i(e),d(e)}))};b.a.render(Object(R.jsx)(o.a.StrictMode,{children:Object(R.jsx)(se,{})}),document.getElementById("root")),oe()},9:function(e,t){e.exports=function(e){"string"===typeof e&&(e=new Date(e));var t=e.getDate(),n=e.getMonth()+1,c=e.getFullYear();return"".concat(n<10?"0".concat(n):n,"-").concat(t<10?"0".concat(t):t,"-").concat(c)}}},[[29,1,2]]]);
//# sourceMappingURL=main.6dbec7d2.chunk.js.map